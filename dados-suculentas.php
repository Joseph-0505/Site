<?php

// Arquivo com dados das suculentas 


$suculentas = [
    [
        'id' => 1,
        'name' => 'Rosa de Pedra',
        'scientific' => 'Echeveria elegans',
        'price' => 15.90,
        'stock' => 12,
        'image' => 'images/rosa-de-pedra.jpg',
        'whatsapp' => '5544999887766',
        'description' => 'Suculenta clássica com formato de roseta, ideal para iniciantes. Resistente e de fácil cultivo.',
        'care' => [
            'light' => 'Sol pleno',
            'water' => 'Pouca',
            'temp' => '15-25°C'
        ],
        'tips' => [
            'Regue apenas quando o substrato estiver seco',
            'Evite molhar as folhas',
            'Propaga facilmente por folhas'
        ]
    ],
    [
        'id' => 2,
        'name' => 'Jade Anã',
        'scientific' => 'Crassula ovata \'Minima\'',
        'price' => 12.50,
        'stock' => 8,
        'image' => 'images/jade-ana.jpg',
        'whatsapp' => '5544999887766',
        'description' => 'Versão miniatura da famosa Jade, perfeita para pequenos espaços e arranjos.',
        'care' => [
            'light' => 'Meia-sombra',
            'water' => 'Moderada',
            'temp' => '18-24°C'
        ],
        'tips' => [
            'Planta da prosperidade',
            'Cresce lentamente',
            'Tolera esquecimento na rega'
        ]
    ],
    [
        'id' => 3,
        'name' => 'Haworthia Zebra',
        'scientific' => 'Haworthiopsis fasciata',
        'price' => 28.90,
        'stock' => 3,
        'image' => 'images/haworthia-zebra.jpg',
        'whatsapp' => '5544999887766',
        'description' => 'Linda suculenta com listras brancas que lembram uma zebra. Perfeita para ambientes internos.',
        'care' => [
            'light' => 'Sombra',
            'water' => 'Pouca',
            'temp' => '16-22°C'
        ],
        'tips' => [
            'Ideal para ambientes internos',
            'Não gosta de sol direto',
            'Produz mudas na base'
        ]
    ],
    [
        'id' => 4,
        'name' => 'Coração Emaranhado',
        'scientific' => 'Ceropegia woodii',
        'price' => 35.00,
        'stock' => 5,
        'image' => 'images/coracao-emaranhado.jpg',
        'whatsapp' => '5544999887766',
        'description' => 'Suculenta pendente com folhas em formato de coração. Perfeita para vasos suspensos.',
        'care' => [
            'light' => 'Luz indireta',
            'water' => 'Pouca',
            'temp' => '18-26°C'
        ],
        'tips' => [
            'Cresce rapidamente',
            'Ideal para vasos suspensos',
            'Flores pequenas e delicadas'
        ]
    ],
    [
        'id' => 5,
        'name' => 'Lithops Mix',
        'scientific' => 'Lithops spp.',
        'price' => 45.90,
        'stock' => 2,
        'image' => 'images/lithops-mix.jpg',
        'whatsapp' => '5544999887766',
        'description' => 'Plantas pedras vivas! Extremamente raras e fascinantes. Para colecionadores.',
        'care' => [
            'light' => 'Sol forte',
            'water' => 'Mínima',
            'temp' => '20-28°C'
        ],
        'tips' => [
            'Regue apenas no período de crescimento',
            'Não regue durante a troca de folhas',
            'Muito sensível ao excesso de água'
        ]
    ],
    [
        'id' => 6,
        'name' => 'Sedum Rubrotinctum',
        'scientific' => 'Sedum × rubrotinctum',
        'price' => 18.90,
        'stock' => 15,
        'image' => 'images/sedum-rubrotinctum.jpg',
        'whatsapp' => '5544999887766',
        'description' => 'Conhecida como "jelly beans" pelas folhas que parecem balas. Fica vermelha no sol.',
        'care' => [
            'light' => 'Sol pleno',
            'water' => 'Pouca',
            'temp' => '16-24°C'
        ],
        'tips' => [
            'Fica mais colorida no sol',
            'Propaga muito facilmente',
            'Resistente ao frio'
        ]
    ],
    [
        'id' => 7,
        'name' => 'Rhipsalis Baccifera',
        'scientific' => 'Rhipsalis baccifera',
        'price' => 32.50,
        'stock' => 0,
        'image' => 'images/rhipsalis-baccifera.jpg',
        'whatsapp' => '5544999887766',
        'description' => 'Cacto pendente sem espinhos. Nativa do Brasil, perfeita para ambientes sombreados.',
        'care' => [
            'light' => 'Sombra',
            'water' => 'Moderada',
            'temp' => '18-25°C'
        ],
        'tips' => [
            'Única cactácea nativa do Brasil',
            'Gosta de umidade',
            'Produz pequenos frutos brancos'
        ]
    ],
    [
        'id' => 8,
        'name' => 'Echeveria Black Prince',
        'scientific' => 'Echeveria \'Black Prince\'',
        'price' => 38.90,
        'stock' => 4,
        'image' => 'images/echeveria-black-prince.jpg',
        'whatsapp' => '5544999887766',
        'description' => 'Echeveria de cor escura quase preta. Muito elegante e rara.',
        'care' => [
            'light' => 'Sol pleno',
            'water' => 'Pouca',
            'temp' => '15-26°C'
        ],
        'tips' => [
            'Cor mais intensa no sol',
            'Flores cor de rosa',
            'Muito ornamental'
        ]
    ],
    [
        'id' => 9,
        'name' => 'Kalanchoe Tomentosa',
        'scientific' => 'Kalanchoe tomentosa',
        'price' => 22.90,
        'stock' => 9,
        'image' => 'images/kalanchoe-tomentosa.jpg',
        'whatsapp' => '5544999887766',
        'description' => 'Conhecida como "orelha de gato" pelas folhas macias e aveludadas.',
        'care' => [
            'light' => 'Sol pleno',
            'water' => 'Pouca',
            'temp' => '18-26°C'
        ],
        'tips' => [
            'Folhas muito macias',
            'Não molhe as folhas',
            'Cresce verticalmente'
        ]
    ],
    [
        'id' => 10,
        'name' => 'Aeonium Arboreum',
        'scientific' => 'Aeonium arboreum',
        'price' => 29.90,
        'stock' => 6,
        'image' => 'images/aeonium-arboreum.jpg',
        'whatsapp' => '5544999887766',
        'description' => 'Suculenta arbustiva com rosetas no topo dos ramos. Muito decorativa.',
        'care' => [
            'light' => 'Meia-sombra',
            'water' => 'Moderada',
            'temp' => '16-24°C'
        ],
        'tips' => [
            'Cresce como arbusto',
            'Dormência no verão',
            'Tolera temperaturas mais baixas'
        ]
    ]
];

// Função para buscar suculenta por ID
function buscarSuculentaPorId($id)
{
    global $suculentas;
    foreach ($suculentas as $suculenta) {
        if ($suculenta['id'] == $id) {
            return $suculenta;
        }
    }
    return null;
}

// Função para buscar suculentas em estoque
function buscarSuculentasEmEstoque()
{
    global $suculentas;
    return array_filter($suculentas, function ($suculenta) {
        return $suculenta['stock'] > 0;
    });
}

// Função para buscar suculentas por faixa de preço
function buscarSuculentasPorPreco($min = 0, $max = 1000)
{
    global $suculentas;
    return array_filter($suculentas, function ($suculenta) use ($min, $max) {
        return $suculenta['price'] >= $min && $suculenta['price'] <= $max;
    });
}

// Configurações do WhatsApp
$whatsapp_config = [
    'numero' => '5544999887766',
    'mensagem_padrao' => 'Olá! Tenho interesse nas suculentas do Viveiro Verde Vida. Gostaria de mais informações!'
];

// Configurações do site
$site_config = [
    'nome' => 'Viveiro Verde Vida',
    'slogan' => 'Suculentas especiais para o Paraná',
    'endereco' => 'Goioerê, Paraná',
    'telefone' => '(44) 99988-7766',
];

// Função para exibir dados em JSON (para uso no JavaScript)
function obterDadosJSON()
{
    global $suculentas;
    return json_encode($suculentas, JSON_UNESCAPED_UNICODE);
}

// Função para contar total de suculentas
function contarTotalSuculentas()
{
    global $suculentas;
    return count($suculentas);
}

// Função para contar suculentas em estoque
function contarSuculentasEmEstoque()
{
    global $suculentas;
    return count(array_filter($suculentas, function ($suculenta) {
        return $suculenta['stock'] > 0;
    }));
}

// Função para calcular valor total do estoque
function calcularValorTotalEstoque()
{
    global $suculentas;
    $total = 0;
    foreach ($suculentas as $suculenta) {
        $total += $suculenta['price'] * $suculenta['stock'];
    }
    return $total;
}
